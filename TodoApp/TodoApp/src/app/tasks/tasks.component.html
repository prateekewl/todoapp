<div class="row">
    <div class="col-sm-12">
        <h1>Todo List
            <a data-toggle="modal" data-target="#myModal"><i class="material-icons">note_add</i></a>
        </h1>
    </div>
</div>
<div class="row">
    <div class="col-sm-12">
        <ul>
            <li *ngFor="let task of tasks">
                <a>{{ task.title }}</a>
                <p>{{ task.description }}</p>
                <button (click)="editTask(task)" data-toggle="modal" data-target="#myModal">Edit</button>
                <button (click)="showDelTaskModal(task)" data-toggle="modal" data-target="#delModal">Delete</button>
                <!-- <button type="button" class="delete" data-dismiss="row">&times;</button> -->
            </li>
        </ul>
    </div>
</div>

<!-- The Modal -->
<div class="modal" id="myModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <form action="">
                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Todo</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <form [formGroup]="taskForm">
                        <div class="form-group">
                            <label for="title">Todo Title:</label>
                            <input [formControl]="taskForm.controls.title" type="text" class="form-control" id="title">
                        </div>
                        <div class="err" *ngIf="taskForm.controls.title.errors && (taskForm.controls.title.touched || showErr)">
                          The title should not be empty.
                        </div>
                        <div class="form-group">
                            <label for="description">Description:</label>
                            <textarea [formControl]="taskForm.controls.description" class="form-control" id="description" rows="5" cols="80"></textarea>
                        </div>
                        <div class="err" *ngIf="taskForm.controls.description.errors && (taskForm.controls.description.touched || showErr)">
                          The description should not be empty.
                        </div>
                    </form>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button [hidden]="showUpdate" (click)="addTask()" data-dismiss="modal" class="btn btn-primary">Submit</button>
                    <button [hidden]="!showUpdate" (click)="updateTask()" data-dismiss="modal" class="btn btn-primary">Update</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- The Delete Modal -->
<div class="modal" id="delModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <form action="">
                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Delete Todo</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    Are you sure you want to delete this task?
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button data-dismiss="modal" class="btn btn-primary">Cancel</button>
                    <button (click)="delTask()" class="btn btn-danger" data-dismiss="modal">Delete</button>
                </div>
            </form>
        </div>
    </div>
</div>
